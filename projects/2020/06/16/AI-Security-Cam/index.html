<!DOCTYPE html> <html lang=" en "><head> <meta charset="utf-8"> <title>AI Security Camera Project</title> <meta http-equip="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="AI Security Camera Project" /> <meta name="keywords" content="AI Security Camera Project, Kunal Dutta, projects" /> <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"> <meta content="" property="fb:app_id"> <meta content="Kunal Dutta" property="og:site_name"> <meta content="AI Security Camera Project" property="og:title"> <meta content="article" property="og:type"> <meta content="A smart security camera I built with a Raspberry Pi." property="og:description"> <meta content="https://kdutta9.github.io/projects/2020/06/16/AI-Security-Cam/" property="og:url"> <meta content="2020-06-16T17:30:00+00:00" property="article:published_time"> <meta content="https://kdutta9.github.io/about/" property="article:author"> <meta content="projects" property="article:section"> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@"> <meta name="twitter:creator" content="@"> <meta name="twitter:title" content="AI Security Camera Project"> <meta content="Kunal Dutta" property="og:site_name"> <meta name="twitter:url" content="https://kdutta9.github.io/projects/2020/06/16/AI-Security-Cam/"> <meta name="twitter:description" content=""> <link rel="stylesheet" href="/assets/css/main.css" /> <!-- <link rel="stylesheet" href="/assets/css/custom-style.css" /> --> <link rel="stylesheet" href="/assets/bower_components/lightgallery/dist/css/lightgallery.min.css"/> <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.css" /> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css"> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css"> <link rel="stylesheet" href="/assets/bower_components/bootstrap/dist/css/bootstrap.min.css" /> <link rel="stylesheet" href="/assets/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css" /> <link rel="stylesheet" href="/assets/bower_components/icono/dist/icono.min.css"/> <!-- Fonts--> <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet"> <!-- Favicon --> <link rel="icon" href="https://kdutta9.github.io/assets/img/favicon.ico" type="image/gif" sizes="16x16"> <link rel="apple-touch-icon" sizes="180x180" href="../assets/img/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="../assets/img/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="../assets/img/favicon-16x16.png"> <link rel="manifest" href="../assets/img/site.webmanifest"> <!-- Android Home Screen Icon --> <link rel='icon' sizes='512×512' href='../assets/img/android-chrome-512x512.png' / > <link rel='icon' sizes='128×128' href='../assets/img/android-chrome-192x192.png' / > <!-- Jquery --> <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script> <!-- <script src="/assets/bower_components/jquery/dist/jquery.min.js"></script> --> <script src="/assets/bower_components/jquery.easing/jquery.easing.min.js"></script> <script src="/assets/bower_components/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <script src="/assets/bower_components/jquery-mousewheel/jquery.mousewheel.min.js"></script> <script src="/assets/bower_components/lightgallery/dist/js/lightgallery-all.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/picturefill/3.0.2/picturefill.min.js"></script> <script src="/assets/bower_components/imagesloaded/imagesloaded.pkgd.min.js"></script> <script src="/assets/bower_components/nanobar/nanobar.min.js"></script> <script src="/assets/bower_components/typewrite/dist/typewrite.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script> <!-- Github Button --> <script async defer src="https://buttons.github.io/buttons.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script> <script> (function (i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m) })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga'); ga('create', 'UA-140681282-1', 'auto'); ga('send', 'pageview'); </script> </head><body> <nav class="navbar navbar-expand-lg fixed-top navbar-dark" id="topNav"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" > <span class="icono-hamburger" id="navbar-hamburger"> </span> </button> <a class="navbar-brand" href="/">Kunal Dutta</a> <div class="collapse navbar-collapse" id="navbarNav"> <ul class="navbar-nav"> <li class="nav-item"> <a class="nav-link" href="https://kdutta9.github.io/about" >About Me</a > </li> <li class="nav-item"> <a class="nav-link" href="https://kdutta9.github.io/blog" >Blog</a > </li> <li class="nav-item"> <a class="nav-link" href="https://kdutta9.github.io/teaching" >Teaching</a > </li> <li class="nav-item"> <a class="nav-link" href="https://kdutta9.github.io/contact" >Contact Me</a > </li> </ul> </div> <ul class="nav justify-content-end"> <li class="nav-item"> <a class="nav-link" id="search-icon" href="https://kdutta9.github.io/search#/" ><i class="fa fa-search" aria-hidden="true"></i ></a> </li> <li class="nav-item"> <input class="nav-link switch" id="theme-toggle" onclick="modeSwitcher() " type="checkbox" name="checkbox" /> </li> </ul> </nav> <div class="col-lg-12"> <div class="row" id="blog-post-container"> <div class="col-lg-8 offset-md-2"><article class="card" itemscope itemtype="http://schema.org/BlogPosting"> <div class="card-header"> <h1 class="post-title" itemprop="name headline">AI Security Camera Project</h1> <h4 class="post-meta">A smart security camera I built with a Raspberry Pi.</h4> <p class="post-summary"> Posted by : <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">Kunal Dutta</span> </span > </p> <p class="post-summary"> Date: <time datetime="2020-06-16 17:30:00 +0000" itemprop="datePublished" >Jun 16, 2020</time> </p> <span class="disqus-comment-count" data-disqus-identifier="/projects/2020/06/16/AI-Security-Cam/" ></span> <div class="post-categories"> Category : <a href="/blog/categories/projects" >projects</a > </div> </div> <div class="card-body" itemprop="articleBody"> <img class="card-img-top" src="https://kdutta9.github.io/assets/img/posts/security-cam.JPG" alt="" /> <br /> <br /> <p>My first major project of Summer 2020 was to build a smart security camera! I built this with Python, a Raspberry Pi Zero W, and a camera module.</p> <p>Broadly, this camera generates a security feed on localhost and saves images of humans detected in memory.</p> <p>The first step of the project was to generate a live feed of camera, similar to what <a href="https://github.com/ccrisan/motioneyeos">MotionEyeOS</a> provides. I completed this using the PiVideoStream package to grab frames from the camera, and then looping together frames to create a live stream. Next, I added this live stream to a locally hosted web server using Flask, by displaying these frames on an HTML file, using <a href="https://blog.miguelgrinberg.com/post/video-streaming-with-flask">Miguel Greenberg’s template</a>. By adding a camera class like Mr. Greenberg suggested, I was able to start and stop recording at the desire of my code, as opposed to creating an infinite loop that I would need to stop manually. Surprisingly, the video quality and frame rate was solid.</p> <p>Now, I needed to set up object detection. I used OpenCV to set up detection using Haar Cascades, with their provided <a href="https://github.com/opencv/opencv/tree/master/data/haarcascades">human detection models</a>. To implement this within my code, I added detection within my aforementioned camera class. I learned the basics of object detection by reading some of <a href="https://www.pyimagesearch.com/2017/10/16/raspberry-pi-deep-learning-object-detection-with-opencv/">Adrian Rosebrock’s blogs</a>. Thankfully, OpenCV was pretty simple to use with a given model, so I essentially “plugged it in,” and then I wrote a method that would find the coordinates of detection and draw a box around the detection.</p> <p>With that all done, I thought my project was ready to use, but during testing, I found my frame rate was extremely low, due to the heavy lifting in my code, which combined frame grabbing and object detection. I calculated frame rate using <a href="https://github.com/jrosebr1/imutils/">imutils</a>, and found my frame rate was around 1 fps.</p> <p>I implemented multithreading to speed up my project, so I separated the frame capture method into two: one for frame display and the other for object detection. Then, I simply enabled multithreading in my main function on the two methods. My frame rate had improved to ~ 15 fps, which I was happy with.</p> <p>Now, I have a fast security live stream capable of human object detection!</p> <p><img src="https://i.imgur.com/XbX89o3.jpg" alt="Screenshot" height="350px" width="420px" /></p> <p>For more details on code, usage, and requirements, check out my <a href="https://github.com/kdutta9/AI-SecurityCam">Github repository</a>.</p> <p>The next steps for this project are to introduce security alerts and a smart on/off switch and I will use <a href="https://www.pyimagesearch.com/2019/03/25/building-a-raspberry-pi-security-camera-with-opencv/">Adrian Rosebrock’s guide</a> as a reference.</p> <p>Thanks for reading!</p> </div><!-- Incomment incase you want to use Disqus <div id="disqus_thread"></div> --> </article> <script> var disqus_config = function () { this.page.url = "https://kdutta9.github.io/projects/2020/06/16/AI-Security-Cam/"; /* Replace PAGE_URL with your page's canonical URL variable */ this.page.identifier = "/projects/2020/06/16/AI-Security-Cam"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */ }; (function () { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = 'https://kdutta9.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript></div> </div> <div class="row"> <div class="col-md-4"> <div class="card"> <div class="card-header">About Kunal Dutta</div> <div class="card-body"> <p class="author_bio">Hi, I'm Kunal, an undergraduate student at the University of California, Berkeley. Currently, I am studying Computer Science & Public Policy and aspiring to work with technology as a career. I started this website to blog about project development and personal hobbies.</p></div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Categories</div> <div class="card-body text-dark"> <div id="#other"></div> <li class="tag-head"> <a href="/blog/categories/other">other</a> </li> <a name="other"></a> <div id="#education"></div> <li class="tag-head"> <a href="/blog/categories/education">education</a> </li> <a name="education"></a> <div id="#projects"></div> <li class="tag-head"> <a href="/blog/categories/projects">projects</a> </li> <a name="projects"></a> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Useful Links</div> <div class="card-body text-dark"> <li> <a href="https://kdutta9.github.io/about">About Me</a> </li> <li> <a href="https://kdutta9.github.io/blog">Blog</a> </li> <li> <a href="https://kdutta9.github.io/teaching">Teaching</a> </li> <li> <a href="https://kdutta9.github.io/contact">Contact Me</a> </li> </div> </div> </div> </div> </div><footer> <p> Powered by<a href="https://github.com/sujaykundu777/devlopr-jekyll" rel="noopener noreferrer" target="_blank"> devlopr jekyll</a>. </p> <span>&#169;</span> Kunal Dutta 2021 </footer> <script> var options = { classname: 'my-class', id: 'my-id' }; var nanobar = new Nanobar( options ); nanobar.go( 30 ); nanobar.go( 76 ); nanobar.go(100); </script> <script src="/assets/js/mode-switcher.js"></script> </body> </html>
